<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>
    <!-- css -->
    <!-- <link rel="stylesheet" href="/Friend_Finder/public/css/style.css"> -->
    <!-- semantic ui -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.3/semantic.css">

    <script  src="https://code.jquery.com/jquery.js"></script>
 
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <!-- handlebars -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.min.js"></script>

</head>

<body id="background">
    <br>
    <!-- friend finder title  -->
    <header class="ui header center aligned">
        <h1> Survey Questions</h1>
    </header>
    <br>
<div class="ui container center aligned">
    <form class="ui form">
        <div class="field" id="name">
            <label>Name</label>
            <input type="text" name="name" placeholder="Name">
        </div>
        <div class="field" id="pic">
            <label>Profile Pic</label>
            <input type="text" name="Profile Pic" placeholder="Profile Pic">
        </div>
    </form>
    <br>
    <hr>

    <h3>1 = this does not discribe me at all, 5 = it most describes you perfectly!</h3>

        <!-- =============10 questions ====================-->

<div class="ui form">

<!-- Q1 -->
<div class="grouped fields" id = "q1">
<label for="question1">1. You find yourself hating large groups of people :</label>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question1" tabindex="0">
        <label>1</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question1" tabindex="1">
        <label>2</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question1" tabindex="2">
        <label>3</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question1" tabindex="3">
        <label>4</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question1" tabindex="4">
        <label>5</label>
    </div>
</div>
</div>

<!-- Q2 -->
<div class="grouped fields" id="q2">
<label for="question1">2. You love pets:</label>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question2" tabindex="0">
        <label>1</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question2" tabindex="1">
        <label>2</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question2" tabindex="2">
        <label>3</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question2" tabindex="3">
        <label>4</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question2" tabindex="4">
        <label>5</label>
    </div>
</div>
</div>

<!-- Q3 -->
<div class="grouped fields" id="q3">
<label for="question1">3. You enjoy spicy foods:</label>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question3" tabindex="0">
        <label>1</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question3" tabindex="1">
        <label>2</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question3" tabindex="2">
        <label>3</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question3" tabindex="3">
        <label>4</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question3" tabindex="4">
        <label>5</label>
    </div>
</div>
</div>

<!-- Q4 -->
<div class="grouped fields" id="q4">
    <label for="question1">4. A walk up a steep mountain is a dream date:</label>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question4" tabindex="0">
            <label>1</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question4" tabindex="1">
            <label>2</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question4" tabindex="2">
            <label>3</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question4" tabindex="3">
            <label>4</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question4" tabindex="4">
            <label>5</label>
        </div>
    </div>
</div>

<!-- Q5 -->
<div class="grouped fields" id="q5">
        <label for="question1">5. You want a family:</label>
        <div class="field">
            <div class="ui radio checkbox">
                <input type="radio" name="question5" tabindex="0">
                <label>1</label>
            </div>
        </div>
        <div class="field">
            <div class="ui radio checkbox">
                <input type="radio" name="question5" tabindex="1">
                <label>2</label>
            </div>
        </div>
        <div class="field">
            <div class="ui radio checkbox">
                <input type="radio" name="question5" tabindex="2">
                <label>3</label>
            </div>
        </div>
        <div class="field">
            <div class="ui radio checkbox">
                <input type="radio" name="question5" tabindex="3">
                <label>4</label>
            </div>
        </div>
        <div class="field">
            <div class="ui radio checkbox">
                <input type="radio" name="question5" tabindex="4">
                <label>5</label>
            </div>
        </div>
        </div>
    
<!-- Q6 -->
<div class="grouped fields" id="q6">
<label for="question1">6. You work more than you play:</label>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question6" tabindex="0">
        <label>1</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question6" tabindex="1">
        <label>2</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question6" tabindex="2">
        <label>3</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question6" tabindex="3">
        <label>4</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question6" tabindex="4">
        <label>5</label>
    </div>
</div>
</div>
<!-- Q7 -->
<div class="grouped fields" id="q7">
<label for="question1">7. You love to party:</label>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question7" tabindex="0">
        <label>1</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question7" tabindex="1">
        <label>2</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question7" tabindex="2">
        <label>3</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question7" tabindex="3">
        <label>4</label>
    </div>
</div>
<div class="field">
    <div class="ui radio checkbox">
        <input type="radio" name="question7" tabindex="4">
        <label>5</label>
    </div>
</div>
</div>
    
<!-- Q8 -->
<div class="grouped fields" id="q8">
    <label for="question1">8. A deep thinker is who you want to converse with over surface conversations:</label>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question8" tabindex="0">
            <label>1</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question8" tabindex="1">
            <label>2</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question8" tabindex="2">
            <label>3</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question8" tabindex="3">
            <label>4</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question8" tabindex="4">
            <label>5</label>
        </div>
    </div>
</div>

<!-- Q9 -->
<div class="grouped fields" id="q9">
    <label for="question1">9:You like to snuggle:</label>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question9" tabindex="0">
            <label>1</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question9" tabindex="1">
            <label>2</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question9" tabindex="2">
            <label>3</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question9" tabindex="3">
            <label>4</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question9" tabindex="4">
            <label>5</label>
        </div>
    </div>
    </div>

<!-- Q10 -->
<div class="grouped fields" id="q10">
    <label for="question1">8. You are a free spirit:</label>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question10" tabindex="0">
            <label>1</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question10" tabindex="1">
            <label>2</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question10" tabindex="2">
            <label>3</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question10" tabindex="3">
            <label>4</label>
        </div>
    </div>
    <div class="field">
        <div class="ui radio checkbox">
            <input type="radio" name="question10" tabindex="4">
            <label>5</label>
        </div>
    </div>
</div>


<!-- btn for submit -->
    <button class="ui secondary button submit" id="submit">
        Submit
    </button>
  </div>
</div>
    <hr>

<!-- selection of friend -->
<div id ="friendPicked">
    <h1 class ="friendTitle">New Selected Friend</h1>
    <h3 id ="bestFriend"></h3>
    <img id ="friendPic" src="#">
</div>


    <!-- api friends list  link-->
<p><a href="/api/friends">api friend list</a>
    |
<!-- api github link -->
<a href="/api/github">github repo</a></p>

    </div>

    <!-- semantic js -->
    <style href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.3/components/form.js"></style>
    <!-- friends.js -->
    <style href="/Friend_Finder/server.js"></style>
    <script> 
    $(document).on("click", "#submit", function(pushingAnswers){
        pushingAnswers.preventDefault();
     
     //confirm data was entered by user
function confirmForm() {
            var confirm = true;  //setting var to be equal to boolian of true
            $('.confirm').each(function(){
                if ($(this).val() === ""){
                    confirm = false;
                }
            });
            $('.selected'). each(function(){
                if ($(this).val()=== ""){
                    confirm = false;
                }
            });
            return confirm;

        }
     
        //if the user did put in all the information requested then use jquery to pull the values off the id's created on each radio button question.
      if(confirmForm() === true){
            var inputData = {
                name: $("#name").val().trim(),
                photo:$("#pic").val().trim(),
                score: [
                $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val(),
                ]
            }
        }

           
        var presentURL = window.location.origin;
        
        $.post(presentURL + "/api/friends", inputData, function(data) {
                //Updates the bestFriend name/photo and toggles the best friend modal on posting the new userData
                $("#bestFriend").text(data.name);
                $("#FriendPic").attr("src", data.photo);
                $("#friendPicked").modal("toggle");
                //Clears the form on submitting
                $("#name").val("");
                $("#photo").val("");
                $("#q1").val("");
                $("#q2").val("");
                $("#q3").val("");
                $("#q4").val("");
                $("#q5").val("");
                $("#q6").val("");
                $("#q7").val("");
                $("#q8").val("");
                $("#q9").val("");
                $("#q10").val("");
            });



    });
 
        
    </script>
</body>

</html>